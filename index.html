<!DOCTYPE HTML>
<html lang="en-US">
    <head>
        <meta charset="utf-8">
        <title>图片拖拽</title>
		<link rel="stylesheet" href="style.css" />
    </head>
    <body>
        <div id="header"></div>
        <div id="container">
            <div class="drag_box"><img src="images/001.jpg" alt="" class="drag_img" /></div>
            <div class="drag_box"><img src="images/002.jpg" alt="" class="drag_img" /></div>
            <div class="drag_box"><img src="images/003.jpg" alt="" class="drag_img" /></div>
            <div class="drag_box"><img src="images/004.jpg" alt="" class="drag_img" /></div>
            <div class="drag_box"><img src="images/005.jpg" alt="" class="drag_img" /></div>
            <div class="drag_box"><img src="images/006.jpg" alt="" class="drag_img" /></div>
            <div class="drag_box"><img src="images/007.jpg" alt="" class="drag_img" /></div>
            <div class="drag_box"><img src="images/008.jpg" alt="" class="drag_img" /></div>
            <div class="drag_box"><img src="images/009.jpg" alt="" class="drag_img" /></div>
            <div class="drag_box"><img src="images/010.jpg" alt="" class="drag_img" /></div>
            <div class="drag_box"><img src="images/011.jpg" alt="" class="drag_img" /></div>
            <div class="drag_box"><img src="images/012.jpg" alt="" class="drag_img" /></div>
            <div class="drag_box"><img src="images/013.jpg" alt="" class="drag_img" /></div>
            <div class="drag_box"><img src="images/014.jpg" alt="" class="drag_img" /></div>
            <div class="drag_box"><img src="images/015.jpg" alt="" class="drag_img" /></div>
            <div class="drag_box"><img src="images/016.jpg" alt="" class="drag_img" /></div>
            <div class="drag_box"><img src="images/017.jpg" alt="" class="drag_img" /></div>
            <div class="drag_box"><img src="images/018.jpg" alt="" class="drag_img" /></div>
            <div class="drag_box"><img src="images/019.jpg" alt="" class="drag_img" /></div>
            <div class="drag_box"><img src="images/020.jpg" alt="" class="drag_img" /></div>
            <div class="drag_box"><img src="images/021.jpg" alt="" class="drag_img" /></div>
            <div class="drag_box"><img src="images/022.jpg" alt="" class="drag_img" /></div>
            <div class="drag_box"><img src="images/023.jpg" alt="" class="drag_img" /></div>
            <div class="drag_box"><img src="images/024.jpg" alt="" class="drag_img" /></div>
            <div class="drag_box"><img src="images/025.jpg" alt="" class="drag_img" /></div>
            <div class="drag_box"><img src="images/026.jpg" alt="" class="drag_img" /></div>
            <div class="drag_box"><img src="images/027.jpg" alt="" class="drag_img" /></div>
            <div class="drag_box"><img src="images/028.jpg" alt="" class="drag_img" /></div>
            <div class="drag_box"><img src="images/029.jpg" alt="" class="drag_img" /></div>
            <div class="drag_box"><img src="images/030.jpg" alt="" class="drag_img" /></div>
            <div class="drag_box"><img src="images/031.jpg" alt="" class="drag_img" /></div>
            <div class="drag_box"><img src="images/032.jpg" alt="" class="drag_img" /></div>
        </div>
        <div id="footer"></div>
		<script type="text/javascript" src="js/drag.js"></script>
		<script type="text/javascript">
			var x, y, z, down = false, obj;
			function init(){
				obj = event.srcElement;	//事件触发对象
				obj.setCapture();	//设置获取当前对象的鼠标捕捉
				z = obj.style.zIndex;	//获取对象的z轴的坐标值
				
				obj.style.zIndex = 100;	//设置对象的坐标轴，确保当前层显示在最前面
				x = event.offsetX;	//获取x
				y = event.offsetY;	//获取Y
				
				down = true;
			}
			
			function moveit(){
				//判断鼠标已经被按下且onmouseover和onmousedown事件发生在同一个对象上
				if(down&&event.srcElement == obj){
					with(obj.style){
						/*设置对象的X坐标值为文档在X轴
						  方向上的滚动距离加上当前鼠标
						  指针相当于文档对象的X坐标值减
						  鼠标按下时指针位置相对于触发
						  事件的对象的X坐标
						*/ 
						posLeft = document.body.scrollLeft + event.x - x;
						
						/*设置对象的Y坐标值为文档在Y轴方
						  向上的滚动距离加上当前鼠标指针相
						  当于文档对象的Y坐标值减鼠标按下
						  时指针位置相对于触发事件的对象的Y坐标
						*/
						
						posTop = document.body.scrollTop + event.y - y;
					}
				}
			}
			
			function stopdrag(){
				//onmouseup事件触发说明鼠标已经放开，所以设置down变量值为false
				down = false;
				obj.style.zIndex = z;
				obj.releaseCapture(); //释放当前对象的鼠标捕捉
			}
			
			document.getElementById("container").getElementsByTagName("div").onmousedown = init();
			
		</script>
    </body>
</html>